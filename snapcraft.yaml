name: content-demo-microk8s
version: 'latest'
summary: Snap showing how to use the configuration launcher in MicroK8s.
description: |
  Snap a demo configuration yaml file that MicroK8s can apply.
base: core20

grade: stable
confinement: strict

slots:
  configuration:
    interface: content
    content: configuration
    source:
      read:
        - $SNAP/launcher

parts:
  configuration:
    plugin: nil
    source: .
    override-build: |
      rm $SNAPCRAFT_PART_INSTALL/launcher -rf
      cp -rv launcher $SNAPCRAFT_PART_INSTALL/launcher
      (cd $SNAPCRAFT_PART_INSTALL/launcher/addons && git init && git add . && git commit -m 'test')
